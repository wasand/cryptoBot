sensor:
  - platform: rest
    name: crypto_logs
    resource: http://trading-bot:8080/logs?limit=200
    scan_interval: 300
    value_template: "{{ value_json | length if value_json is iterable else 0 }}"
    json_attributes:
      - 0
      - 1
      - 2
      - 3
      - 4
      - 5
      - 6
      - 7
      - 8
      - 9

  - platform: rest
    name: crypto_alerts
    resource: http://trading-bot:8080/alerts?limit=200
    scan_interval: 300
    value_template: "{{ value_json | length if value_json is iterable else 0 }}"
    json_attributes:
      - 0
      - 1
      - 2
      - 3
      - 4
      - 5
      - 6
      - 7
      - 8
      - 9

rest_command:
  clear_crypto_alerts:
    url: "http://trading-bot:8080/alerts"
    method: "DELETE"
